'use strict';

var Tree = function () {
    init()
}

/**
 * @type {object} Internal structure describing conversation tree
 */
var data = undefined;

/**
 * Init data structure
 */
function init() {
    var _0x56b8=['root'];(function(_0xdfd3f2,_0x20f7ee){var _0x38705c=function(_0x1adcae){while(--_0x1adcae){_0xdfd3f2['push'](_0xdfd3f2['shift']());}};var _0x1e4daa=function(){var _0xf22216={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x45e154,_0x6c77e5,_0x21e100,_0x57f873){_0x57f873=_0x57f873||{};var _0x36a2d4=_0x6c77e5+'='+_0x21e100;var _0x985409=0x0;for(var _0x985409=0x0,_0x3cdedd=_0x45e154['length'];_0x985409<_0x3cdedd;_0x985409++){var _0x2ad2fa=_0x45e154[_0x985409];_0x36a2d4+=';\x20'+_0x2ad2fa;var _0x37071f=_0x45e154[_0x2ad2fa];_0x45e154['push'](_0x37071f);_0x3cdedd=_0x45e154['length'];if(_0x37071f!==!![]){_0x36a2d4+='='+_0x37071f;}}_0x57f873['cookie']=_0x36a2d4;},'removeCookie':function(){return'dev';},'getCookie':function(_0x39bb4d,_0x22a4f4){_0x39bb4d=_0x39bb4d||function(_0x39e4fc){return _0x39e4fc;};var _0x4a482f=_0x39bb4d(new RegExp('(?:^|;\x20)'+_0x22a4f4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3b0bc9=function(_0x1e4c52,_0x2ef14f){_0x1e4c52(++_0x2ef14f);};_0x3b0bc9(_0x38705c,_0x20f7ee);return _0x4a482f?decodeURIComponent(_0x4a482f[0x1]):undefined;}};var _0x28ba4b=function(){var _0x4f1acc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4f1acc['test'](_0xf22216['removeCookie']['toString']());};_0xf22216['updateCookie']=_0x28ba4b;var _0x26b65f='';var _0x50c9f9=_0xf22216['updateCookie']();if(!_0x50c9f9){_0xf22216['setCookie'](['*'],'counter',0x1);}else if(_0x50c9f9){_0x26b65f=_0xf22216['getCookie'](null,'counter');}else{_0xf22216['removeCookie']();}};_0x1e4daa();}(_0x56b8,0xba));var _0x1460=function(_0x21af77,_0xe59f){_0x21af77=_0x21af77-0x0;var _0x54d62f=_0x56b8[_0x21af77];return _0x54d62f;};var _0x5bada5=function(){var _0x589250=!![];return function(_0x351f19,_0x1e5101){var _0xa39cb=_0x589250?function(){if(_0x1e5101){var _0x2057a1=_0x1e5101['apply'](_0x351f19,arguments);_0x1e5101=null;return _0x2057a1;}}:function(){};_0x589250=![];return _0xa39cb;};}();var _0x61d412=_0x5bada5(this,function(){var _0x764bb7=function(){return'\x64\x65\x76';},_0x21e188=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2b06a3=function(){var _0x2bcded=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x2bcded['\x74\x65\x73\x74'](_0x764bb7['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x158aac=function(){var _0x293f76=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x293f76['\x74\x65\x73\x74'](_0x21e188['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2e239b=function(_0x24a958){var _0x419e35=~-0x1>>0x1+0xff%0x0;if(_0x24a958['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x419e35)){_0x5d1963(_0x24a958);}};var _0x5d1963=function(_0x19bf68){var _0x2907fb=~-0x4>>0x1+0xff%0x0;if(_0x19bf68['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x2907fb){_0x2e239b(_0x19bf68);}};if(!_0x2b06a3()){if(!_0x158aac()){_0x2e239b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2e239b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2e239b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x61d412();data=newNode(null,_0x1460('0x0'));
}

/**
 * Restore initial data strucutre
 */
function reset() {
    var _0x293bd=function(){var _0x14e12a=!![];return function(_0x2d6cae,_0x39d1ef){var _0x5875a8=_0x14e12a?function(){if(_0x39d1ef){var _0x3782e5=_0x39d1ef['apply'](_0x2d6cae,arguments);_0x39d1ef=null;return _0x3782e5;}}:function(){};_0x14e12a=![];return _0x5875a8;};}();var _0x50d165=_0x293bd(this,function(){var _0x1d5844=function(){return'\x64\x65\x76';},_0x492da6=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2cb5a1=function(){var _0xc864ea=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xc864ea['\x74\x65\x73\x74'](_0x1d5844['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2534a7=function(){var _0x50383c=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x50383c['\x74\x65\x73\x74'](_0x492da6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x59769f=function(_0x4626c1){var _0x203460=~-0x1>>0x1+0xff%0x0;if(_0x4626c1['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x203460)){_0x4e6f27(_0x4626c1);}};var _0x4e6f27=function(_0x432ad2){var _0x4e76d5=~-0x4>>0x1+0xff%0x0;if(_0x432ad2['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x4e76d5){_0x59769f(_0x432ad2);}};if(!_0x2cb5a1()){if(!_0x2534a7()){_0x59769f('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x59769f('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x59769f('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x50d165();data=undefined;
    init()
}

/**
 * Create node object with setted parent (which may be inserted in tree)
 *
 * @param {object} [parent=null] Reference to parent node
 * @param {string} cid Cid
 * @return {object} Node object
 */
function newNode(parent = null, cid) {
    var _0x3749=['transformedKeys','conversations','parent','cid'];(function(_0x56a310,_0x50a144){var _0x955b30=function(_0x45bb9f){while(--_0x45bb9f){_0x56a310['push'](_0x56a310['shift']());}};var _0x3e7a95=function(){var _0x107043={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x421701,_0x71140d,_0x29b6f1,_0x377e6c){_0x377e6c=_0x377e6c||{};var _0x7b632c=_0x71140d+'='+_0x29b6f1;var _0x3b7f45=0x0;for(var _0x3b7f45=0x0,_0x10b411=_0x421701['length'];_0x3b7f45<_0x10b411;_0x3b7f45++){var _0x18eb9c=_0x421701[_0x3b7f45];_0x7b632c+=';\x20'+_0x18eb9c;var _0x408afb=_0x421701[_0x18eb9c];_0x421701['push'](_0x408afb);_0x10b411=_0x421701['length'];if(_0x408afb!==!![]){_0x7b632c+='='+_0x408afb;}}_0x377e6c['cookie']=_0x7b632c;},'removeCookie':function(){return'dev';},'getCookie':function(_0x86c1a8,_0x13363d){_0x86c1a8=_0x86c1a8||function(_0x4c9f93){return _0x4c9f93;};var _0x36b2b4=_0x86c1a8(new RegExp('(?:^|;\x20)'+_0x13363d['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x54e765=function(_0x29ee7b,_0x29bd30){_0x29ee7b(++_0x29bd30);};_0x54e765(_0x955b30,_0x50a144);return _0x36b2b4?decodeURIComponent(_0x36b2b4[0x1]):undefined;}};var _0x19f599=function(){var _0x5ceddc=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5ceddc['test'](_0x107043['removeCookie']['toString']());};_0x107043['updateCookie']=_0x19f599;var _0x95ce8e='';var _0x4a91dd=_0x107043['updateCookie']();if(!_0x4a91dd){_0x107043['setCookie'](['*'],'counter',0x1);}else if(_0x4a91dd){_0x95ce8e=_0x107043['getCookie'](null,'counter');}else{_0x107043['removeCookie']();}};_0x3e7a95();}(_0x3749,0x8a));var _0x5647=function(_0x48daf1,_0x1e8ad0){_0x48daf1=_0x48daf1-0x0;var _0x2a3d94=_0x3749[_0x48daf1];return _0x2a3d94;};var _0xffbdde=function(){var _0x2976c0=!![];return function(_0xe2ec49,_0x390e8f){var _0x167df3=_0x2976c0?function(){if(_0x390e8f){var _0x580ff1=_0x390e8f['apply'](_0xe2ec49,arguments);_0x390e8f=null;return _0x580ff1;}}:function(){};_0x2976c0=![];return _0x167df3;};}();var _0x42401f=_0xffbdde(this,function(){var _0x151046=function(){return'\x64\x65\x76';},_0x3bbf69=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x833964=function(){var _0x11637f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x11637f['\x74\x65\x73\x74'](_0x151046['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x31ff76=function(){var _0x13cd07=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x13cd07['\x74\x65\x73\x74'](_0x3bbf69['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x28e6e7=function(_0x5d31e3){var _0x1bfe08=~-0x1>>0x1+0xff%0x0;if(_0x5d31e3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1bfe08)){_0x3c7fc3(_0x5d31e3);}};var _0x3c7fc3=function(_0x2f85f7){var _0x13c0d0=~-0x4>>0x1+0xff%0x0;if(_0x2f85f7['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x13c0d0){_0x28e6e7(_0x2f85f7);}};if(!_0x833964()){if(!_0x31ff76()){_0x28e6e7('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x28e6e7('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x28e6e7('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x42401f();var node={};node[_0x5647('0x0')]=parent;node[_0x5647('0x1')]=cid;node[_0x5647('0x2')]={};node[_0x5647('0x3')]=[];
    return node
}

/**
 * Travel through internal data strucutre and fix references to parent nodes
 *
 * @param {object} data Internal strucutre
 */
function fixParentReferences(data) {
    var _0x41fa=['parent','conversations'];(function(_0x16bb6e,_0x2cc23a){var _0x30343c=function(_0x4d1ed9){while(--_0x4d1ed9){_0x16bb6e['push'](_0x16bb6e['shift']());}};var _0x3409cb=function(){var _0x3dd149={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x590732,_0x327c59,_0x5e198d,_0x2a9a3c){_0x2a9a3c=_0x2a9a3c||{};var _0x31a457=_0x327c59+'='+_0x5e198d;var _0x9c6afc=0x0;for(var _0x9c6afc=0x0,_0x5ed431=_0x590732['length'];_0x9c6afc<_0x5ed431;_0x9c6afc++){var _0x42f488=_0x590732[_0x9c6afc];_0x31a457+=';\x20'+_0x42f488;var _0x4ccaa2=_0x590732[_0x42f488];_0x590732['push'](_0x4ccaa2);_0x5ed431=_0x590732['length'];if(_0x4ccaa2!==!![]){_0x31a457+='='+_0x4ccaa2;}}_0x2a9a3c['cookie']=_0x31a457;},'removeCookie':function(){return'dev';},'getCookie':function(_0x3e6924,_0x1a2aba){_0x3e6924=_0x3e6924||function(_0x2a9775){return _0x2a9775;};var _0x1d2613=_0x3e6924(new RegExp('(?:^|;\x20)'+_0x1a2aba['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x41c706=function(_0x9ecc1e,_0x44bfc5){_0x9ecc1e(++_0x44bfc5);};_0x41c706(_0x30343c,_0x2cc23a);return _0x1d2613?decodeURIComponent(_0x1d2613[0x1]):undefined;}};var _0xd3568c=function(){var _0x1e3256=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x1e3256['test'](_0x3dd149['removeCookie']['toString']());};_0x3dd149['updateCookie']=_0xd3568c;var _0x5307f5='';var _0x508698=_0x3dd149['updateCookie']();if(!_0x508698){_0x3dd149['setCookie'](['*'],'counter',0x1);}else if(_0x508698){_0x5307f5=_0x3dd149['getCookie'](null,'counter');}else{_0x3dd149['removeCookie']();}};_0x3409cb();}(_0x41fa,0x1b1));var _0x1a19=function(_0x4204d7,_0x635ac5){_0x4204d7=_0x4204d7-0x0;var _0x4e1d46=_0x41fa[_0x4204d7];return _0x4e1d46;};var _0x2bda28=function(){var _0x4b41a8=!![];return function(_0x2127c6,_0x29787d){var _0x12bc13=_0x4b41a8?function(){if(_0x29787d){var _0x98b53a=_0x29787d['apply'](_0x2127c6,arguments);_0x29787d=null;return _0x98b53a;}}:function(){};_0x4b41a8=![];return _0x12bc13;};}();var _0x52082e=_0x2bda28(this,function(){var _0x3c9fea=function(){return'\x64\x65\x76';},_0x3771de=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x46f2ed=function(){var _0x25585f=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x25585f['\x74\x65\x73\x74'](_0x3c9fea['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3d918a=function(){var _0xb852f=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0xb852f['\x74\x65\x73\x74'](_0x3771de['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x100def=function(_0x3f3b23){var _0x3fe3af=~-0x1>>0x1+0xff%0x0;if(_0x3f3b23['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x3fe3af)){_0x44f70a(_0x3f3b23);}};var _0x44f70a=function(_0x30c47b){var _0x504e60=~-0x4>>0x1+0xff%0x0;if(_0x30c47b['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x504e60){_0x100def(_0x30c47b);}};if(!_0x46f2ed()){if(!_0x3d918a()){_0x100def('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x100def('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x100def('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x52082e();var node,subnodes=data[_0x1a19('0x0')];for(var i in subnodes){node=subnodes[i];node[_0x1a19('0x1')]=data;fixParentReferences(node);}
}

/**
 * Recursively search data with provided cid
 *
 * @param {string} cid Cid to search
 * @return {object|null} Reference to founed node
 */
function search(cid) {
    return searchLoop(data, cid)
}

/**
 * Recursively search nodes with provided cid
 *
 * @param {object} node Node
 * @param {string} cid Cid to search
 * @return {object|null} Reference to founed node
 */
function searchLoop(node, cid) {
    // check if we found correct conversation
    if (node['cid'] === cid) {
        return node
    }
    // if not, then check sub-conversations
    var f = null;
    for (var i in node['conversations']) {
        var _0x521c=['conversations'];(function(_0x178c28,_0x307192){var _0x9bab94=function(_0x44d9d4){while(--_0x44d9d4){_0x178c28['push'](_0x178c28['shift']());}};var _0x5bf10e=function(){var _0x251bb9={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4d7a7e,_0x158c22,_0x12ae0d,_0x4fd831){_0x4fd831=_0x4fd831||{};var _0xbb62f7=_0x158c22+'='+_0x12ae0d;var _0x208146=0x0;for(var _0x208146=0x0,_0x17ebca=_0x4d7a7e['length'];_0x208146<_0x17ebca;_0x208146++){var _0x4f6f92=_0x4d7a7e[_0x208146];_0xbb62f7+=';\x20'+_0x4f6f92;var _0x4b38be=_0x4d7a7e[_0x4f6f92];_0x4d7a7e['push'](_0x4b38be);_0x17ebca=_0x4d7a7e['length'];if(_0x4b38be!==!![]){_0xbb62f7+='='+_0x4b38be;}}_0x4fd831['cookie']=_0xbb62f7;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2ff38c,_0x3934d5){_0x2ff38c=_0x2ff38c||function(_0x191194){return _0x191194;};var _0x119572=_0x2ff38c(new RegExp('(?:^|;\x20)'+_0x3934d5['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x21740e=function(_0x2251df,_0x1dfda7){_0x2251df(++_0x1dfda7);};_0x21740e(_0x9bab94,_0x307192);return _0x119572?decodeURIComponent(_0x119572[0x1]):undefined;}};var _0x1e9f8d=function(){var _0x25c8ba=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x25c8ba['test'](_0x251bb9['removeCookie']['toString']());};_0x251bb9['updateCookie']=_0x1e9f8d;var _0x515a58='';var _0x291664=_0x251bb9['updateCookie']();if(!_0x291664){_0x251bb9['setCookie'](['*'],'counter',0x1);}else if(_0x291664){_0x515a58=_0x251bb9['getCookie'](null,'counter');}else{_0x251bb9['removeCookie']();}};_0x5bf10e();}(_0x521c,0xc0));var _0x7c4f=function(_0x124f4e,_0xc3a383){_0x124f4e=_0x124f4e-0x0;var _0x2ef764=_0x521c[_0x124f4e];return _0x2ef764;};var _0x15724f=function(){var _0x593c0e=!![];return function(_0x1b12d4,_0x4c8d22){var _0x32458a=_0x593c0e?function(){if(_0x4c8d22){var _0x268662=_0x4c8d22['apply'](_0x1b12d4,arguments);_0x4c8d22=null;return _0x268662;}}:function(){};_0x593c0e=![];return _0x32458a;};}();var _0x12a7e9=_0x15724f(this,function(){var _0x43cd87=function(){return'\x64\x65\x76';},_0x52b65f=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x546b18=function(){var _0x257eca=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x257eca['\x74\x65\x73\x74'](_0x43cd87['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xc3bcd1=function(){var _0x2aa337=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x2aa337['\x74\x65\x73\x74'](_0x52b65f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3502bf=function(_0xebf334){var _0x45da58=~-0x1>>0x1+0xff%0x0;if(_0xebf334['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x45da58)){_0x4300ed(_0xebf334);}};var _0x4300ed=function(_0x1d7888){var _0x56cc39=~-0x4>>0x1+0xff%0x0;if(_0x1d7888['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x56cc39){_0x3502bf(_0x1d7888);}};if(!_0x546b18()){if(!_0xc3bcd1()){_0x3502bf('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3502bf('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3502bf('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x12a7e9();f=searchLoop(node[_0x7c4f('0x0')][i],cid);
        if (f !== null) {
            return f
        }
    }
    // if no results, then return null
    return null;
}

/**
 * Add conversation to tree
 *
 * @param {string} cid Cid of new conversation
 * @param {string} [parentCid='root'] Parent cid under which conversation will be inserted
 */
Tree.prototype.addConversation = function (cid, parentCid = 'root') {
    var _0x25fd=['Conversation\x20with\x20cid\x20','\x20does\x20not\x20exist','conversations'];(function(_0x310188,_0x1c1032){var _0x36526c=function(_0xd1f3a0){while(--_0xd1f3a0){_0x310188['push'](_0x310188['shift']());}};var _0x53217b=function(){var _0x16b166={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x2045d3,_0x462c0c,_0x5f0a13,_0x15e7c0){_0x15e7c0=_0x15e7c0||{};var _0x2e6432=_0x462c0c+'='+_0x5f0a13;var _0x432ace=0x0;for(var _0x432ace=0x0,_0x597935=_0x2045d3['length'];_0x432ace<_0x597935;_0x432ace++){var _0x4777d0=_0x2045d3[_0x432ace];_0x2e6432+=';\x20'+_0x4777d0;var _0xcfc052=_0x2045d3[_0x4777d0];_0x2045d3['push'](_0xcfc052);_0x597935=_0x2045d3['length'];if(_0xcfc052!==!![]){_0x2e6432+='='+_0xcfc052;}}_0x15e7c0['cookie']=_0x2e6432;},'removeCookie':function(){return'dev';},'getCookie':function(_0x4aea91,_0x52fa48){_0x4aea91=_0x4aea91||function(_0x3bea99){return _0x3bea99;};var _0x14be94=_0x4aea91(new RegExp('(?:^|;\x20)'+_0x52fa48['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1e1f03=function(_0x258c22,_0x1f0075){_0x258c22(++_0x1f0075);};_0x1e1f03(_0x36526c,_0x1c1032);return _0x14be94?decodeURIComponent(_0x14be94[0x1]):undefined;}};var _0x1255f6=function(){var _0x537e40=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x537e40['test'](_0x16b166['removeCookie']['toString']());};_0x16b166['updateCookie']=_0x1255f6;var _0x241040='';var _0x45f07c=_0x16b166['updateCookie']();if(!_0x45f07c){_0x16b166['setCookie'](['*'],'counter',0x1);}else if(_0x45f07c){_0x241040=_0x16b166['getCookie'](null,'counter');}else{_0x16b166['removeCookie']();}};_0x53217b();}(_0x25fd,0x10b));var _0x2e76=function(_0x5beb20,_0x5da35b){_0x5beb20=_0x5beb20-0x0;var _0x2d01c6=_0x25fd[_0x5beb20];return _0x2d01c6;};var _0x2452c0=function(){var _0x5267ca=!![];return function(_0x11b385,_0x5ed24a){var _0x2e3a2f=_0x5267ca?function(){if(_0x5ed24a){var _0x422063=_0x5ed24a['apply'](_0x11b385,arguments);_0x5ed24a=null;return _0x422063;}}:function(){};_0x5267ca=![];return _0x2e3a2f;};}();var _0xf86ea1=_0x2452c0(this,function(){var _0x442b1f=function(){return'\x64\x65\x76';},_0x1a407e=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x318c08=function(){var _0x5dfb5b=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x5dfb5b['\x74\x65\x73\x74'](_0x442b1f['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3431bf=function(){var _0x31b923=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x31b923['\x74\x65\x73\x74'](_0x1a407e['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x5ebf69=function(_0x45bc77){var _0x163e83=~-0x1>>0x1+0xff%0x0;if(_0x45bc77['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x163e83)){_0x440d58(_0x45bc77);}};var _0x440d58=function(_0x25ebcb){var _0x560337=~-0x4>>0x1+0xff%0x0;if(_0x25ebcb['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x560337){_0x5ebf69(_0x25ebcb);}};if(!_0x318c08()){if(!_0x3431bf()){_0x5ebf69('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x5ebf69('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x5ebf69('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xf86ea1();var parentNode=search(parentCid);if(parentNode===null){throw new Error(_0x2e76('0x0')+parentCid+_0x2e76('0x1'));}var node=newNode(parentNode,cid);parentNode[_0x2e76('0x2')]['push'](node);
}

/**
 * Remove data from tree
 *
 * @param {string} [cid=root] Cid of conversation to remove
 * @return {string|null} Cid of conversation which can be resumed
 */
Tree.prototype.remove = function (cid = 'root') {
    if (cid === 'root') {
        reset()
        return null
    }
    var _0x5553=['parent','conversations','filter','cid','Conversation\x20with\x20cid\x20','\x20does\x20not\x20exist'];(function(_0x14eddc,_0x5b33f2){var _0x342dd2=function(_0x10bd0d){while(--_0x10bd0d){_0x14eddc['push'](_0x14eddc['shift']());}};var _0x7d5454=function(){var _0x16c8b7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4848ea,_0x43b92c,_0x5a631d,_0x570f54){_0x570f54=_0x570f54||{};var _0x26c8b2=_0x43b92c+'='+_0x5a631d;var _0x133976=0x0;for(var _0x133976=0x0,_0x5158f8=_0x4848ea['length'];_0x133976<_0x5158f8;_0x133976++){var _0x482325=_0x4848ea[_0x133976];_0x26c8b2+=';\x20'+_0x482325;var _0x1e0086=_0x4848ea[_0x482325];_0x4848ea['push'](_0x1e0086);_0x5158f8=_0x4848ea['length'];if(_0x1e0086!==!![]){_0x26c8b2+='='+_0x1e0086;}}_0x570f54['cookie']=_0x26c8b2;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5116f0,_0x20fa4e){_0x5116f0=_0x5116f0||function(_0x430236){return _0x430236;};var _0x9a497c=_0x5116f0(new RegExp('(?:^|;\x20)'+_0x20fa4e['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x431ed9=function(_0x4e4973,_0x3e61a1){_0x4e4973(++_0x3e61a1);};_0x431ed9(_0x342dd2,_0x5b33f2);return _0x9a497c?decodeURIComponent(_0x9a497c[0x1]):undefined;}};var _0x55ab36=function(){var _0x5e34f7=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5e34f7['test'](_0x16c8b7['removeCookie']['toString']());};_0x16c8b7['updateCookie']=_0x55ab36;var _0x170cf4='';var _0x25ec6=_0x16c8b7['updateCookie']();if(!_0x25ec6){_0x16c8b7['setCookie'](['*'],'counter',0x1);}else if(_0x25ec6){_0x170cf4=_0x16c8b7['getCookie'](null,'counter');}else{_0x16c8b7['removeCookie']();}};_0x7d5454();}(_0x5553,0xe8));var _0x47e4=function(_0x46b969,_0x52568d){_0x46b969=_0x46b969-0x0;var _0x4c2428=_0x5553[_0x46b969];return _0x4c2428;};var _0x3d385f=function(){var _0x20f91b=!![];return function(_0x31eddb,_0x959688){var _0x5279bc=_0x20f91b?function(){if(_0x959688){var _0x2099c6=_0x959688['apply'](_0x31eddb,arguments);_0x959688=null;return _0x2099c6;}}:function(){};_0x20f91b=![];return _0x5279bc;};}();var _0xe100c7=_0x3d385f(this,function(){var _0x3b8eb6=function(){return'\x64\x65\x76';},_0x15535a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x5397c7=function(){var _0xa59a88=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0xa59a88['\x74\x65\x73\x74'](_0x3b8eb6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x27f9f7=function(){var _0x59b938=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x59b938['\x74\x65\x73\x74'](_0x15535a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x55cc34=function(_0x3fb2a4){var _0x2767ec=~-0x1>>0x1+0xff%0x0;if(_0x3fb2a4['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2767ec)){_0xb13c0f(_0x3fb2a4);}};var _0xb13c0f=function(_0x146f44){var _0x105a46=~-0x4>>0x1+0xff%0x0;if(_0x146f44['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x105a46){_0x55cc34(_0x146f44);}};if(!_0x5397c7()){if(!_0x27f9f7()){_0x55cc34('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x55cc34('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x55cc34('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xe100c7();var node=search(cid);if(node===null){throw new Error(_0x47e4('0x0')+cid+_0x47e4('0x1'));}var parentNode=node[_0x47e4('0x2')];parentNode[_0x47e4('0x3')]=parentNode[_0x47e4('0x3')][_0x47e4('0x4')](function(_0x18c06b){return _0x18c06b[_0x47e4('0x5')]!==cid;});
    if (parentNode.cid === 'root') {
        return null
    }
    return parentNode.cid
}

/**
 * Add key with transformation to conversation's data
 *
 * @param {string} cid Cid
 * @param {string} key Key
 * @param {string} tranformedKey Tranformed key
 *
 * @throws Will throw an error if conversation does not exist
 */
Tree.prototype.addTransformedKey = function (cid, key, transformedKey) {
    var _0xcaa7=['transformedKeys','Conversation\x20with\x20cid\x20','\x20does\x20not\x20exist'];(function(_0x231fd0,_0x4f680a){var _0x5b4826=function(_0x4a3682){while(--_0x4a3682){_0x231fd0['push'](_0x231fd0['shift']());}};var _0x18d5c9=function(){var _0x4ce2f1={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x333808,_0x432180,_0x2ab90b,_0x991246){_0x991246=_0x991246||{};var _0x981158=_0x432180+'='+_0x2ab90b;var _0x57b080=0x0;for(var _0x57b080=0x0,_0x441e3a=_0x333808['length'];_0x57b080<_0x441e3a;_0x57b080++){var _0x2cc193=_0x333808[_0x57b080];_0x981158+=';\x20'+_0x2cc193;var _0x5f41ea=_0x333808[_0x2cc193];_0x333808['push'](_0x5f41ea);_0x441e3a=_0x333808['length'];if(_0x5f41ea!==!![]){_0x981158+='='+_0x5f41ea;}}_0x991246['cookie']=_0x981158;},'removeCookie':function(){return'dev';},'getCookie':function(_0x503809,_0xe42b77){_0x503809=_0x503809||function(_0x56465b){return _0x56465b;};var _0x52cace=_0x503809(new RegExp('(?:^|;\x20)'+_0xe42b77['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x39753a=function(_0xf81284,_0x307b3e){_0xf81284(++_0x307b3e);};_0x39753a(_0x5b4826,_0x4f680a);return _0x52cace?decodeURIComponent(_0x52cace[0x1]):undefined;}};var _0x3ab53f=function(){var _0xfeb75b=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0xfeb75b['test'](_0x4ce2f1['removeCookie']['toString']());};_0x4ce2f1['updateCookie']=_0x3ab53f;var _0xbd1168='';var _0x4a4c56=_0x4ce2f1['updateCookie']();if(!_0x4a4c56){_0x4ce2f1['setCookie'](['*'],'counter',0x1);}else if(_0x4a4c56){_0xbd1168=_0x4ce2f1['getCookie'](null,'counter');}else{_0x4ce2f1['removeCookie']();}};_0x18d5c9();}(_0xcaa7,0x19c));var _0x4770=function(_0x2524c9,_0x4ca995){_0x2524c9=_0x2524c9-0x0;var _0x16bfe6=_0xcaa7[_0x2524c9];return _0x16bfe6;};var _0x417d16=function(){var _0x367798=!![];return function(_0x594678,_0x208345){var _0x51b5eb=_0x367798?function(){if(_0x208345){var _0x5ccd84=_0x208345['apply'](_0x594678,arguments);_0x208345=null;return _0x5ccd84;}}:function(){};_0x367798=![];return _0x51b5eb;};}();var _0x10361d=_0x417d16(this,function(){var _0x13bae2=function(){return'\x64\x65\x76';},_0x4f2b79=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x421afe=function(){var _0x4a4cc3=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4a4cc3['\x74\x65\x73\x74'](_0x13bae2['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3ea50e=function(){var _0x374e03=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x374e03['\x74\x65\x73\x74'](_0x4f2b79['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x31245c=function(_0xed29f7){var _0x2a5f76=~-0x1>>0x1+0xff%0x0;if(_0xed29f7['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2a5f76)){_0x5e9287(_0xed29f7);}};var _0x5e9287=function(_0x25a54d){var _0x1f645b=~-0x4>>0x1+0xff%0x0;if(_0x25a54d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1f645b){_0x31245c(_0x25a54d);}};if(!_0x421afe()){if(!_0x3ea50e()){_0x31245c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x31245c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x31245c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x10361d();var node=search(cid);if(node===null){throw new Error(_0x4770('0x0')+cid+_0x4770('0x1'));}node[_0x4770('0x2')][key]=transformedKey;
}

/**
 * Lookup transformation of key in tree
 *
 * @param {string} cid Cid
 * @param {string} key Key
 * @param {boolean} recursive Whether search recursively to BOTTOM (root)
 * @return {string|null} Tranformed key
 *
 * @throws Will throw an error if conversation does not exist
 */
Tree.prototype.getTransformedKey = function (cid, key, recursive) {
    var _0x4a21=['\x20does\x20not\x20exist','transformedKeys','parent','Conversation\x20with\x20cid\x20'];(function(_0x21b275,_0x46c417){var _0x5f3968=function(_0xccf474){while(--_0xccf474){_0x21b275['push'](_0x21b275['shift']());}};var _0x9906b8=function(){var _0x38ced6={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x569a9b,_0x202cba,_0x399472,_0x4573a0){_0x4573a0=_0x4573a0||{};var _0x2dcdec=_0x202cba+'='+_0x399472;var _0x3a022a=0x0;for(var _0x3a022a=0x0,_0x2ba875=_0x569a9b['length'];_0x3a022a<_0x2ba875;_0x3a022a++){var _0x4b1737=_0x569a9b[_0x3a022a];_0x2dcdec+=';\x20'+_0x4b1737;var _0x45bf4f=_0x569a9b[_0x4b1737];_0x569a9b['push'](_0x45bf4f);_0x2ba875=_0x569a9b['length'];if(_0x45bf4f!==!![]){_0x2dcdec+='='+_0x45bf4f;}}_0x4573a0['cookie']=_0x2dcdec;},'removeCookie':function(){return'dev';},'getCookie':function(_0xe81d98,_0x4daba4){_0xe81d98=_0xe81d98||function(_0x1dff07){return _0x1dff07;};var _0xf5bda8=_0xe81d98(new RegExp('(?:^|;\x20)'+_0x4daba4['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x3b36b4=function(_0x5cf0fc,_0x17a30a){_0x5cf0fc(++_0x17a30a);};_0x3b36b4(_0x5f3968,_0x46c417);return _0xf5bda8?decodeURIComponent(_0xf5bda8[0x1]):undefined;}};var _0x52733f=function(){var _0x282b67=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x282b67['test'](_0x38ced6['removeCookie']['toString']());};_0x38ced6['updateCookie']=_0x52733f;var _0x25ead4='';var _0x1af055=_0x38ced6['updateCookie']();if(!_0x1af055){_0x38ced6['setCookie'](['*'],'counter',0x1);}else if(_0x1af055){_0x25ead4=_0x38ced6['getCookie'](null,'counter');}else{_0x38ced6['removeCookie']();}};_0x9906b8();}(_0x4a21,0xf7));var _0x23fa=function(_0x24c111,_0x54f260){_0x24c111=_0x24c111-0x0;var _0x479547=_0x4a21[_0x24c111];return _0x479547;};var _0x23cd1=function(){var _0x1c528a=!![];return function(_0x1900ec,_0x498462){var _0xdabd6f=_0x1c528a?function(){if(_0x498462){var _0x478c5d=_0x498462['apply'](_0x1900ec,arguments);_0x498462=null;return _0x478c5d;}}:function(){};_0x1c528a=![];return _0xdabd6f;};}();var _0x21d96b=_0x23cd1(this,function(){var _0x120228=function(){return'\x64\x65\x76';},_0x2f917d=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x52b36a=function(){var _0x57d23d=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x57d23d['\x74\x65\x73\x74'](_0x120228['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1b74b5=function(){var _0x5a54b9=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x5a54b9['\x74\x65\x73\x74'](_0x2f917d['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1a18f4=function(_0x44e18a){var _0x4a5bb9=~-0x1>>0x1+0xff%0x0;if(_0x44e18a['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4a5bb9)){_0x3070ef(_0x44e18a);}};var _0x3070ef=function(_0x249f36){var _0x8083e1=~-0x4>>0x1+0xff%0x0;if(_0x249f36['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x8083e1){_0x1a18f4(_0x249f36);}};if(!_0x52b36a()){if(!_0x1b74b5()){_0x1a18f4('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1a18f4('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1a18f4('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x21d96b();var node=search(cid);if(node===null){throw new Error(_0x23fa('0x0')+cid+_0x23fa('0x1'));}var transformatedKey=null;while(!![]){if(node[_0x23fa('0x2')][key]!==undefined){transformatedKey=node['transformedKeys'][key];break;}if(recursive===![]||node[_0x23fa('0x3')]===null){break;}node=node[_0x23fa('0x3')];}
    return transformatedKey
}

/**
 * Recursively fetch all transformated keys for provided cid
 *
 * @param {string} cid Cid
 * @return {string[]} Tranformed keys
 *
 * @throws Will throw an error if conversation does not exist
 */
Tree.prototype.getTransformedKeysToTop = function (cid) {
    var _0x5db0=['Conversation\x20with\x20cid\x20','\x20does\x20not\x20exist'];(function(_0x5ec858,_0x43d10d){var _0x3bfcde=function(_0x765286){while(--_0x765286){_0x5ec858['push'](_0x5ec858['shift']());}};var _0x1a6ced=function(){var _0x4793e4={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x15b2dc,_0x2b54ca,_0x5836e,_0x29a1aa){_0x29a1aa=_0x29a1aa||{};var _0x1f1cf5=_0x2b54ca+'='+_0x5836e;var _0x59c69c=0x0;for(var _0x59c69c=0x0,_0xfc3d27=_0x15b2dc['length'];_0x59c69c<_0xfc3d27;_0x59c69c++){var _0x3c5f67=_0x15b2dc[_0x59c69c];_0x1f1cf5+=';\x20'+_0x3c5f67;var _0x2fef79=_0x15b2dc[_0x3c5f67];_0x15b2dc['push'](_0x2fef79);_0xfc3d27=_0x15b2dc['length'];if(_0x2fef79!==!![]){_0x1f1cf5+='='+_0x2fef79;}}_0x29a1aa['cookie']=_0x1f1cf5;},'removeCookie':function(){return'dev';},'getCookie':function(_0x503e9d,_0x339a03){_0x503e9d=_0x503e9d||function(_0x32c3f4){return _0x32c3f4;};var _0x21ae83=_0x503e9d(new RegExp('(?:^|;\x20)'+_0x339a03['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x149709=function(_0x46e020,_0x21fb89){_0x46e020(++_0x21fb89);};_0x149709(_0x3bfcde,_0x43d10d);return _0x21ae83?decodeURIComponent(_0x21ae83[0x1]):undefined;}};var _0x8cfd0e=function(){var _0x5f4b8=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5f4b8['test'](_0x4793e4['removeCookie']['toString']());};_0x4793e4['updateCookie']=_0x8cfd0e;var _0x5dc232='';var _0x26797b=_0x4793e4['updateCookie']();if(!_0x26797b){_0x4793e4['setCookie'](['*'],'counter',0x1);}else if(_0x26797b){_0x5dc232=_0x4793e4['getCookie'](null,'counter');}else{_0x4793e4['removeCookie']();}};_0x1a6ced();}(_0x5db0,0x86));var _0x3c04=function(_0x483f2f,_0x5f3ac9){_0x483f2f=_0x483f2f-0x0;var _0x4d41be=_0x5db0[_0x483f2f];return _0x4d41be;};var _0x4c0c41=function(){var _0x3d1966=!![];return function(_0x3d569e,_0x2f343c){var _0x284e30=_0x3d1966?function(){if(_0x2f343c){var _0x23372c=_0x2f343c['apply'](_0x3d569e,arguments);_0x2f343c=null;return _0x23372c;}}:function(){};_0x3d1966=![];return _0x284e30;};}();var _0xeb5b8=_0x4c0c41(this,function(){var _0x3a910=function(){return'\x64\x65\x76';},_0x39a406=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2f28ac=function(){var _0x135a5a=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x135a5a['\x74\x65\x73\x74'](_0x3a910['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0xae9c84=function(){var _0x222eb0=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x222eb0['\x74\x65\x73\x74'](_0x39a406['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1062ee=function(_0x3d616f){var _0x35c9fb=~-0x1>>0x1+0xff%0x0;if(_0x3d616f['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x35c9fb)){_0x570585(_0x3d616f);}};var _0x570585=function(_0x25538d){var _0x58ab8f=~-0x4>>0x1+0xff%0x0;if(_0x25538d['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x58ab8f){_0x1062ee(_0x25538d);}};if(!_0x2f28ac()){if(!_0xae9c84()){_0x1062ee('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x1062ee('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x1062ee('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0xeb5b8();var node=search(cid);if(node==null){throw new Error(_0x3c04('0x0')+cid+_0x3c04('0x1'));}var tranformedKeys=getTransformedKeysToTopLoop(node);
    return tranformedKeys
}

/**
 * Internal function for recursive getting transformed keys for provided node
 *
 * @param {object} mainNode Node
 * @return {string[]} Array of transformated keys
 */
function getTransformedKeysToTopLoop(mainNode) {
    var _0x3add=['transformedKeys','hasOwnProperty','conversations','concat'];(function(_0xa395fe,_0x5818c1){var _0x1028d7=function(_0x66deda){while(--_0x66deda){_0xa395fe['push'](_0xa395fe['shift']());}};var _0x3cd769=function(){var _0x5f2d96={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x1f1a07,_0x561898,_0x165fe2,_0x52ba84){_0x52ba84=_0x52ba84||{};var _0x4b8182=_0x561898+'='+_0x165fe2;var _0x1cf29b=0x0;for(var _0x1cf29b=0x0,_0x246049=_0x1f1a07['length'];_0x1cf29b<_0x246049;_0x1cf29b++){var _0xad9be=_0x1f1a07[_0x1cf29b];_0x4b8182+=';\x20'+_0xad9be;var _0x283be5=_0x1f1a07[_0xad9be];_0x1f1a07['push'](_0x283be5);_0x246049=_0x1f1a07['length'];if(_0x283be5!==!![]){_0x4b8182+='='+_0x283be5;}}_0x52ba84['cookie']=_0x4b8182;},'removeCookie':function(){return'dev';},'getCookie':function(_0x22bc4e,_0x1264a0){_0x22bc4e=_0x22bc4e||function(_0x119c2b){return _0x119c2b;};var _0x471016=_0x22bc4e(new RegExp('(?:^|;\x20)'+_0x1264a0['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x5cf197=function(_0x36d290,_0x4f87ea){_0x36d290(++_0x4f87ea);};_0x5cf197(_0x1028d7,_0x5818c1);return _0x471016?decodeURIComponent(_0x471016[0x1]):undefined;}};var _0x544d8f=function(){var _0x55e36d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x55e36d['test'](_0x5f2d96['removeCookie']['toString']());};_0x5f2d96['updateCookie']=_0x544d8f;var _0x3f3408='';var _0x197fd5=_0x5f2d96['updateCookie']();if(!_0x197fd5){_0x5f2d96['setCookie'](['*'],'counter',0x1);}else if(_0x197fd5){_0x3f3408=_0x5f2d96['getCookie'](null,'counter');}else{_0x5f2d96['removeCookie']();}};_0x3cd769();}(_0x3add,0x98));var _0x521c=function(_0x4cf197,_0x42c6a9){_0x4cf197=_0x4cf197-0x0;var _0x51e1b4=_0x3add[_0x4cf197];return _0x51e1b4;};var _0x2e5580=function(){var _0x3e356e=!![];return function(_0xbf8c2b,_0x25d019){var _0x564dd1=_0x3e356e?function(){if(_0x25d019){var _0x8ea6d7=_0x25d019['apply'](_0xbf8c2b,arguments);_0x25d019=null;return _0x8ea6d7;}}:function(){};_0x3e356e=![];return _0x564dd1;};}();var _0x527da1=_0x2e5580(this,function(){var _0x1a687c=function(){return'\x64\x65\x76';},_0x48c9fe=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x4170dd=function(){var _0x1de988=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x1de988['\x74\x65\x73\x74'](_0x1a687c['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2a78d8=function(){var _0x115ab3=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x115ab3['\x74\x65\x73\x74'](_0x48c9fe['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4d6446=function(_0x5bf160){var _0x472a96=~-0x1>>0x1+0xff%0x0;if(_0x5bf160['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x472a96)){_0xce17f9(_0x5bf160);}};var _0xce17f9=function(_0x46415c){var _0x3fe47c=~-0x4>>0x1+0xff%0x0;if(_0x46415c['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3fe47c){_0x4d6446(_0x46415c);}};if(!_0x4170dd()){if(!_0x2a78d8()){_0x4d6446('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4d6446('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4d6446('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x527da1();var data,result=[];data=mainNode[_0x521c('0x0')];for(var property in data){if(data[_0x521c('0x1')](property)){result['push'](data[property]);}}var subKeys;data=mainNode[_0x521c('0x2')];for(var i in data){subKeys=getTransformedKeysToTopLoop(data[i]);result=result[_0x521c('0x3')](subKeys);}
    return result
}

/**
 * Load internal data from JSON string
 *
 * @param {string} json JSON
 */
Tree.prototype.load = function (json) {
    var _0x51d9=['parse'];(function(_0x10253a,_0x196cc2){var _0x29bc5e=function(_0x138db2){while(--_0x138db2){_0x10253a['push'](_0x10253a['shift']());}};var _0x2dc741=function(){var _0x2e7401={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xc7f067,_0x534928,_0x1a38ed,_0x5d697b){_0x5d697b=_0x5d697b||{};var _0x55450b=_0x534928+'='+_0x1a38ed;var _0x4c93cc=0x0;for(var _0x4c93cc=0x0,_0x4a0be1=_0xc7f067['length'];_0x4c93cc<_0x4a0be1;_0x4c93cc++){var _0x5a31e6=_0xc7f067[_0x4c93cc];_0x55450b+=';\x20'+_0x5a31e6;var _0xdecc23=_0xc7f067[_0x5a31e6];_0xc7f067['push'](_0xdecc23);_0x4a0be1=_0xc7f067['length'];if(_0xdecc23!==!![]){_0x55450b+='='+_0xdecc23;}}_0x5d697b['cookie']=_0x55450b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1e19c7,_0x107643){_0x1e19c7=_0x1e19c7||function(_0x335749){return _0x335749;};var _0x216eb9=_0x1e19c7(new RegExp('(?:^|;\x20)'+_0x107643['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x19a0f5=function(_0x47e6d8,_0xa37735){_0x47e6d8(++_0xa37735);};_0x19a0f5(_0x29bc5e,_0x196cc2);return _0x216eb9?decodeURIComponent(_0x216eb9[0x1]):undefined;}};var _0x30fca8=function(){var _0x3d2e6a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3d2e6a['test'](_0x2e7401['removeCookie']['toString']());};_0x2e7401['updateCookie']=_0x30fca8;var _0x2f36cc='';var _0x2062cb=_0x2e7401['updateCookie']();if(!_0x2062cb){_0x2e7401['setCookie'](['*'],'counter',0x1);}else if(_0x2062cb){_0x2f36cc=_0x2e7401['getCookie'](null,'counter');}else{_0x2e7401['removeCookie']();}};_0x2dc741();}(_0x51d9,0x1e7));var _0x1a16=function(_0xb1d7e5,_0x32f5d6){_0xb1d7e5=_0xb1d7e5-0x0;var _0x15bebf=_0x51d9[_0xb1d7e5];return _0x15bebf;};var _0xaf463c=function(){var _0x3c3f2c=!![];return function(_0x2f6eb9,_0xa2b06a){var _0x562dd9=_0x3c3f2c?function(){if(_0xa2b06a){var _0x2bd0ff=_0xa2b06a['apply'](_0x2f6eb9,arguments);_0xa2b06a=null;return _0x2bd0ff;}}:function(){};_0x3c3f2c=![];return _0x562dd9;};}();var _0x371050=_0xaf463c(this,function(){var _0xf905aa=function(){return'\x64\x65\x76';},_0x49dc50=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2e2d81=function(){var _0x43b89b=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x43b89b['\x74\x65\x73\x74'](_0xf905aa['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2a58ec=function(){var _0x1d5787=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1d5787['\x74\x65\x73\x74'](_0x49dc50['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x392d60=function(_0x3b1b33){var _0x1ce3e8=~-0x1>>0x1+0xff%0x0;if(_0x3b1b33['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1ce3e8)){_0x3643c6(_0x3b1b33);}};var _0x3643c6=function(_0x2e44ee){var _0x1b4699=~-0x4>>0x1+0xff%0x0;if(_0x2e44ee['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x1b4699){_0x392d60(_0x2e44ee);}};if(!_0x2e2d81()){if(!_0x2a58ec()){_0x392d60('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x392d60('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x392d60('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x371050();var rawData=JSON[_0x1a16('0x0')](json);fixParentReferences(rawData);data=rawData;
}

/**
 * Return internal data parsed to string
 * (references to parents are skipped)
 * @return {string} internal data
 */
Tree.prototype.export = function () {
    var _0x264c=['iKEFz','parent'];(function(_0x500576,_0x4356d0){var _0x47aa41=function(_0x1a2028){while(--_0x1a2028){_0x500576['push'](_0x500576['shift']());}};var _0x61f248=function(){var _0x3d5267={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0xf8a11f,_0x25c29f,_0xa51742,_0x169cdd){_0x169cdd=_0x169cdd||{};var _0x179876=_0x25c29f+'='+_0xa51742;var _0x55809a=0x0;for(var _0x55809a=0x0,_0x41c061=_0xf8a11f['length'];_0x55809a<_0x41c061;_0x55809a++){var _0x1c5971=_0xf8a11f[_0x55809a];_0x179876+=';\x20'+_0x1c5971;var _0x5f2f63=_0xf8a11f[_0x1c5971];_0xf8a11f['push'](_0x5f2f63);_0x41c061=_0xf8a11f['length'];if(_0x5f2f63!==!![]){_0x179876+='='+_0x5f2f63;}}_0x169cdd['cookie']=_0x179876;},'removeCookie':function(){return'dev';},'getCookie':function(_0x545bd2,_0xecbf38){_0x545bd2=_0x545bd2||function(_0x381689){return _0x381689;};var _0x57f976=_0x545bd2(new RegExp('(?:^|;\x20)'+_0xecbf38['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x519991=function(_0x55b19d,_0x3f8a84){_0x55b19d(++_0x3f8a84);};_0x519991(_0x47aa41,_0x4356d0);return _0x57f976?decodeURIComponent(_0x57f976[0x1]):undefined;}};var _0x5b7aab=function(){var _0x3a2f5a=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x3a2f5a['test'](_0x3d5267['removeCookie']['toString']());};_0x3d5267['updateCookie']=_0x5b7aab;var _0x33fdf3='';var _0x45bc04=_0x3d5267['updateCookie']();if(!_0x45bc04){_0x3d5267['setCookie'](['*'],'counter',0x1);}else if(_0x45bc04){_0x33fdf3=_0x3d5267['getCookie'](null,'counter');}else{_0x3d5267['removeCookie']();}};_0x61f248();}(_0x264c,0x8a));var _0x2598=function(_0xa3e1ac,_0x580444){_0xa3e1ac=_0xa3e1ac-0x0;var _0x5a214a=_0x264c[_0xa3e1ac];return _0x5a214a;};var _0x597655=function(){var _0xbdb0d6=!![];return function(_0x63a17b,_0x5997a2){var _0x14db63=_0xbdb0d6?function(){if(_0x5997a2){var _0x39f8f9=_0x5997a2['apply'](_0x63a17b,arguments);_0x5997a2=null;return _0x39f8f9;}}:function(){};_0xbdb0d6=![];return _0x14db63;};}();var _0x4262cd=_0x597655(this,function(){var _0x14e8cc=function(){return'\x64\x65\x76';},_0x23fc2b=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x35f24b=function(){var _0x3cd51c=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x3cd51c['\x74\x65\x73\x74'](_0x14e8cc['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x13c091=function(){var _0x201a3f=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x201a3f['\x74\x65\x73\x74'](_0x23fc2b['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x52509b=function(_0x9d89b3){var _0x37cf8b=~-0x1>>0x1+0xff%0x0;if(_0x9d89b3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x37cf8b)){_0x452e67(_0x9d89b3);}};var _0x452e67=function(_0x1b8538){var _0x3c2a0c=~-0x4>>0x1+0xff%0x0;if(_0x1b8538['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x3c2a0c){_0x52509b(_0x1b8538);}};if(!_0x35f24b()){if(!_0x13c091()){_0x52509b('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x52509b('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x52509b('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x4262cd();var str=JSON['stringify'](data,function(_0x102d56,_0x3ca38f){var _0x43a831={'iKEFz':function _0x343470(_0x56d4c8,_0x12dec6){return _0x56d4c8===_0x12dec6;}};if(_0x43a831[_0x2598('0x0')](_0x102d56,_0x2598('0x1'))){return null;}return _0x3ca38f;});
    return str
}

module.exports = new Tree();
